<script src='https://d3js.org/d3.v7.min.js'></script>

<script>
  let shapesCSV = 'https://raw.githubusercontent.com/Nfb4/csvFiles/main/ex12.csv';

	var svg = d3.select("body")
		.append("svg")
		.attr("width", 400)
		.attr("height", 400)
		.style("border", '1px solid green');

  d3.csv(shapesCSV, function(data) {
	
		var item = svg.selectAll(data.shape).data(data);

		item.exit().remove();

	// item.enter().append(data.shape)
 //  .merge(item)
 //    .attr("cx", function(d){data.cx})
 //    .attr("cy",  function(d){data.cy})
 //    .attr("r", function(d){data.rx})
 //    .attr("rx", function(d){data.rx})
 //    .attr("ry", function(d){data.ry})
 //    .attr("stroke", function(d){data.stroke})
 //    .attr("fill", function(d){data.color});

    if(data.shape === "rect"){
        item.enter().append("rect")
        .attr("x", data.cx)
        .attr("y", data.cy)
        .attr("width", data.width)
        .attr("height", data.height)
        .attr("rx", data.rx)
        .attr("ry", data.ry)
        .attr("stroke", data.stroke)
      .attr("fill", data.color);
;
    }
    else if(data.shape === "circle"){
        svg.append("circle")
        .attr("cx", data.cx)
        .attr("cy", data.cy)
        .attr("r", data.rx)
        .attr("stroke", data.stroke)
      .attr("fill", data.color);
;
    }
    else if(data.shape === "ellipse"){
      svg.append("ellipse")
      .attr("cx", data.cx)
      .attr("cy", data.cy)
      .attr("rx", data.rx)
      .attr("ry", data.ry)
      .attr("stroke", data.stroke)
      .attr("fill", data.color);

      }
    else if(data.shape === "line"){ 
      svg.append("line")
      .attr("x1", data.cx)
      .attr("x2", data.rx)
      .attr("y1", data.cy)
      .attr("y2", data.ry)
      .attr("stroke", data.stroke)
      .attr("fill", data.color);}


		});
	</script>